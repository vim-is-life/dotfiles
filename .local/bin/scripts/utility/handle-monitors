#!/usr/bin/env sh

# WORKSPACES="Main Schl Code Music Agnd Sys Mntr"

handle_laptop_plugged_to_dual_mon_or_no_mon() {
    LID_STATE=$(awk '{print $2}' </proc/acpi/button/lid/LID/state)
    if [ "$LID_STATE" = "closed" ]; then
        xrandr --output DP-1 --primary --right-of DP-2
        xrandr --output eDP-1 --off
        bspc monitor DP-1 -d Main Schl Code "●" "●"
        bspc monitor DP-2 -d "●" "●" Musc Sys Mntr
    else
        xrandr --output eDP-1 --on --primary
    fi
}

# this part is specific to my setup... this would run on a laptop that is either
# plugged into two monitors or plugged into no monitors at all
if [ "$(hostname)" = "pacific" ]; then
    handle_laptop_plugged_to_dual_mon_or_no_mon
else
    bspc monitor -d Main Schl Code "●" "●" "●" "●" Musc Sys Mntr
fi
